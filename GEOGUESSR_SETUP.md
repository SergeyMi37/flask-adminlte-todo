# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GeoGuessr Free

## –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤–∞—è –ø–∞–Ω–µ–ª—å "GeoGuessr Free" –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–æ –∏–≥—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã —É–≥–∞–¥—ã–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Google Street View.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåç 5 —Ä–∞—É–Ω–¥–æ–≤ —Å —Å–ª—É—á–∞–π–Ω—ã–º–∏ –ª–æ–∫–∞—Ü–∏—è–º–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- üìä –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤ (–º–∞–∫—Å–∏–º—É–º 25,000 –æ—á–∫–æ–≤)
- üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
- üåê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Maps API

–î–ª—è —Ä–∞–±–æ—Ç—ã –∏–≥—Ä—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º API –∫–ª—é—á Google Maps.

### –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ API:
   - Maps JavaScript API
   - Street View Static API
   - Geocoding API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. –°–æ–∑–¥–∞–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (API –∫–ª—é—á):
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" > "Credentials"
   - –ù–∞–∂–º–∏—Ç–µ "Create Credentials" > "API Key"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª—é—á

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `templates/geoguessr_game.html` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `YOUR_API_KEY` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π API –∫–ª—é—á:

```html
<script src="https://maps.googleapis.com/maps/api/js?key=–í–ê–®_API_–ö–õ–Æ–ß&libraries=geometry"></script>
```

### –®–∞–≥ 3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è API –∫–ª—é—á–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è API –∫–ª—é—á–∞:

1. –í Google Cloud Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –≤–∞—à–µ–º—É API –∫–ª—é—á—É
2. –î–æ–±–∞–≤—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - **HTTP referrers**: –¥–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `yourdomain.com/*`)
   - **API restrictions**: –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API

### –®–∞–≥ 4: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```bash
flask db upgrade
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ alembic –Ω–∞–ø—Ä—è–º—É—é:

```bash
alembic upgrade head
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø –∫ –∏–≥—Ä–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –º–∞—Ä—à—Ä—É—Ç–∞–º:

- **–ò–≥—Ä–∞**: `/geoguessr`
- **–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤**: `/geoguessr/leaderboard`

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

–í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª "GeoGuessr Free" —Å –¥–≤—É–º—è –ø—É–Ω–∫—Ç–∞–º–∏:
- –ò–≥—Ä–∞—Ç—å
- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
templates/
‚îú‚îÄ‚îÄ geoguessr_game.html          # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–≥—Ä—ã
‚îî‚îÄ‚îÄ geoguessr_leaderboard.html   # –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤

migrations/versions/
‚îî‚îÄ‚îÄ geoguessr_score_model.py     # –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

app.py                            # –ú–∞—Ä—à—Ä—É—Ç—ã –∏ –º–æ–¥–µ–ª—å GeoGuessrScore
```

## –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### GeoGuessrScore

```python
class GeoGuessrScore(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)
    total_score = db.Column(db.Integer, nullable=False)
    games_played = db.Column(db.Integer, default=1)
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
```

## –õ–æ–∫–∞—Ü–∏–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–≥—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏:

1. –ü–∞—Ä–∏–∂, –§—Ä–∞–Ω—Ü–∏—è (–≠–π—Ñ–µ–ª–µ–≤–∞ –±–∞—à–Ω—è)
2. –ù—å—é-–ô–æ—Ä–∫, –°–®–ê (–¢–∞–π–º—Å-—Å–∫–≤–µ—Ä)
3. –õ–æ–Ω–¥–æ–Ω, –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è (–ë–∏–≥-–ë–µ–Ω)
4. –¢–æ–∫–∏–æ, –Ø–ø–æ–Ω–∏—è
5. –°–∏–¥–Ω–µ–π, –ê–≤—Å—Ç—Ä–∞–ª–∏—è (–û–ø–µ—Ä–∞)
6. –†–∏–º, –ò—Ç–∞–ª–∏—è (–ö–æ–ª–∏–∑–µ–π)
7. –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è (–ö—Ä–∞—Å–Ω–∞—è –ø–ª–æ—â–∞–¥—å)
8. –ê—Ñ–∏–Ω—ã, –ì—Ä–µ—Ü–∏—è (–ê–∫—Ä–æ–ø–æ–ª—å)
9. –î—É–±–∞–π, –û–ê–≠
10. –†–∏–æ-–¥–µ-–ñ–∞–Ω–µ–π—Ä–æ, –ë—Ä–∞–∑–∏–ª–∏—è

–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π –≤ —Ñ–∞–π–ª–µ `templates/geoguessr_game.html` –≤ –º–∞—Å—Å–∏–≤–µ `gameLocations`.

## –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤

- –ú–∞–∫—Å–∏–º—É–º 5,000 –æ—á–∫–æ–≤ –∑–∞ —Ä–∞—É–Ω–¥
- –û–±—â–∏–π –º–∞–∫—Å–∏–º—É–º: 25,000 –æ—á–∫–æ–≤ –∑–∞ –∏–≥—Ä—É
- –û—á–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —É–≥–∞–¥–∞–Ω–Ω–æ–π –∏ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π
- –§–æ—Ä–º—É–ª–∞: `score = 5000 * exp(-distance / (20000000 / 10))`

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã –∏–≥—Ä—ã (—Å—Ç—Ä–∞–Ω—ã, –≥–æ—Ä–æ–¥–∞, –ø—Ä–∏—Ä–æ–¥–∞)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä
- [ ] –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ö–∞—Ä—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API –≤ Google Cloud Console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### Street View –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Street View Static API –≤–∫–ª—é—á–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ Street View
3. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –º–æ–≥—É—Ç –Ω–µ –∏–º–µ—Ç—å Street View - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Flask AdminLTE Todo.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
